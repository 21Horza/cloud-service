{"ast":null,"code":"import axios from 'axios';\nimport { setFiles } from '../reducers/fileReducer';\nexport function getFiles(dirId) {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/files${dirId ? '?parent=' + dirId : ''}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      dispatch(setFiles(response.data));\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n}\nexport function createDir(dirId, name) {\n  return async dispatch => {\n    try {\n      const response = await axios.post(`http://localhost:5000/api/files`, {\n        name,\n        parent: dirId,\n        type: 'dir'\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      dispatch(setFiles(response.data));\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n}","map":{"version":3,"sources":["/Users/iliashuianov/projects/js_projects/cloud/client/src/actions/file.js"],"names":["axios","setFiles","getFiles","dirId","dispatch","response","get","headers","Authorization","localStorage","getItem","data","e","alert","message","createDir","name","post","parent","type"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,yBAAvB;AAEA,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAC5B,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,kCAAiCH,KAAK,GAAG,aAAWA,KAAd,GAAsB,EAAG,EAA1E,EAA6E;AAChGI,QAAAA,OAAO,EAAE;AAACC,UAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAAxD;AADuF,OAA7E,CAAvB;AAGAN,MAAAA,QAAQ,CAACH,QAAQ,CAACI,QAAQ,CAACM,IAAV,CAAT,CAAR;AACH,KALD,CAKE,OAAOC,CAAP,EAAU;AACRC,MAAAA,KAAK,CAACD,CAAC,CAACP,QAAF,CAAWM,IAAX,CAAgBG,OAAjB,CAAL;AACH;AACJ,GATD;AAUH;AAED,OAAO,SAASC,SAAT,CAAmBZ,KAAnB,EAA0Ba,IAA1B,EAAgC;AACnC,SAAO,MAAMZ,QAAN,IAAkB;AACrB,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAML,KAAK,CAACiB,IAAN,CAAY,iCAAZ,EAA8C;AACjED,QAAAA,IADiE;AAEjEE,QAAAA,MAAM,EAAEf,KAFyD;AAGjEgB,QAAAA,IAAI,EAAE;AAH2D,OAA9C,EAIpB;AACCZ,QAAAA,OAAO,EAAE;AAACC,UAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAAxD;AADV,OAJoB,CAAvB;AAOAN,MAAAA,QAAQ,CAACH,QAAQ,CAACI,QAAQ,CAACM,IAAV,CAAT,CAAR;AACH,KATD,CASE,OAAOC,CAAP,EAAU;AACRC,MAAAA,KAAK,CAACD,CAAC,CAACP,QAAF,CAAWM,IAAX,CAAgBG,OAAjB,CAAL;AACH;AACJ,GAbD;AAcH","sourcesContent":["import axios from 'axios'\nimport {setFiles} from '../reducers/fileReducer'\n\nexport function getFiles(dirId) {\n    return async dispatch => {\n        try {\n            const response = await axios.get(`http://localhost:5000/api/files${dirId ? '?parent='+dirId : ''}`, {\n                headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\n            })\n            dispatch(setFiles(response.data))\n        } catch (e) {\n            alert(e.response.data.message)\n        }\n    }\n}\n\nexport function createDir(dirId, name) {\n    return async dispatch => {\n        try {\n            const response = await axios.post(`http://localhost:5000/api/files`, {\n                name,\n                parent: dirId,\n                type: 'dir'\n            }, {\n                headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\n            })\n            dispatch(setFiles(response.data))\n        } catch (e) {\n            alert(e.response.data.message)\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}